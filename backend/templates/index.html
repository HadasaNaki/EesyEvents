{% extends "base.html" %}

{% block content %}
<main>
    <script>
        // Load all image categories
        let djImages = [];
        let orchestraImages = [];
        let photographerImages = [];
        let foodImages = [];
        let designImages = [];
        
        async function loadAllImages() {
            try {
                const manifest = await fetch('/api/images/manifest').then(r => r.json());
                hallImages = manifest.images.hall || [];
                poolImages = manifest.images.pool || [];
                weddingImages = manifest.images.wedding || [];
                djImages = manifest.images.dj || [];
                orchestraImages = manifest.images.orchestra || [];
                photographerImages = manifest.images.photographers || [];
                foodImages = manifest.images.food || [];
                designImages = manifest.images.design || [];
                console.log('✅ All images loaded:', { hallImages, poolImages, weddingImages, djImages, orchestraImages, photographerImages, foodImages, designImages });
            } catch (e) {
                console.log('Could not load images manifest');
            }
        }
        
        function getImage(category, index = 0) {
            const images = {
                'hall': hallImages,
                'pool': poolImages,
                'wedding': weddingImages,
                'dj': djImages,
                'orchestra': orchestraImages,
                'photographer': photographerImages,
                'food': foodImages,
                'design': designImages
            }[category] || [];
            return images[index % Math.max(1, images.length)] || '';
        }
        
        loadAllImages();
    </script>
    <!-- Hero Section -->
    <section class="relative h-screen w-full overflow-hidden">
        <!-- Darkened background image -->
        <div class="absolute inset-0 bg-cover bg-center" style="background-image: url('{{ url_for('static', filename='images/hero-background.jpg') }}');"></div>
        <!-- Dark overlay -->
        <div class="absolute inset-0 bg-black/30"></div>
        <!-- Content overlay -->
        <div class="relative z-10 h-full flex flex-col items-center justify-center text-center text-[#4C2B08] px-4 fade-in-up">
            <h2 class="font-serif text-xs md:text-sm tracking-[0.3em] uppercase mb-6 text-[#331e07]" style="text-shadow: 0 0 10px rgba(255,255,255,0.7), 0 0 20px rgba(255,255,255,0.5), 0 0 30px rgba(255,255,255,0.3);">The Art of Celebration</h2>
            <h1 class="font-serif text-6xl md:text-8xl lg:text-9xl mb-10 leading-none text-[#331e07]" style="text-shadow: 0 0 15px rgba(255,255,255,0.6), 0 0 30px rgba(255,255,255,0.4);">
                EasyVents
            </h1>
            <style>
                .hero-btn:hover {
                    background-color: #3e1e09 !important;
                    border-color: #442510 !important;
                    color: white !important;
                }
            </style>
            <a href="/plan" class="hero-btn border-2 border-[#4C2B08] text-[#4C2B08] bg-transparent px-8 py-3 text-xs font-black uppercase tracking-widest hover:bg-[#8c5f42] hover:text-white hover:border-[#8c5f42] transition-colors duration-300 rounded-full inline-block" style="font-weight: 900; background-color: transparent;">
                התחל לתכנן
            </a>
        </div>
    </section>

    <!-- Event Types Sections -->

    <!-- Three Events Preview Section -->
    <section class="py-16 bg-[#f4f1ea]">
        <div class="container mx-auto px-4 md:px-8">
            <div class="text-center mb-12">
                <h2 class="text-4xl md:text-5xl text-[#4C2B08] mb-4" style="font-family: 'Playfair Display', Georgia, serif; font-weight: 500;">האירועים שלנו</h2>
                <p class="text-xl text-[#84593D]" style="font-family: 'Playfair Display', Georgia, serif;">כל רגע הוא חגיגה</p>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <!-- Bar Mitzvah Card -->
                <a href="/plan?type=bar-mitzvah" class="bg-white rounded-xl shadow-lg p-8 text-center hover:shadow-xl transition-shadow duration-300 block cursor-pointer">
                    <div class="h-56 mx-auto mb-6 flex items-center justify-center overflow-hidden">
                        <img src="{{ url_for('static', filename='images/tfilin.png') }}" 
                             alt="בר מצווה" 
                             class="h-48 object-contain tfilin-slide">
                    </div>
                    <h3 class="text-2xl text-[#4C2B08] mb-3" style="font-family: 'Playfair Display', Georgia, serif; font-weight: 600;">בר מצווה</h3>
                    <p class="text-sm text-[#84593D] leading-relaxed" style="font-family: 'Lato', sans-serif;">
                        חוגגים בגרות
                    </p>
                </a>

                <!-- Pool Party Card -->
                <a href="/plan?type=party" class="bg-white rounded-xl shadow-lg p-8 text-center hover:shadow-xl transition-shadow duration-300 block cursor-pointer">
                    <div class="h-56 mx-auto mb-6 flex items-center justify-center relative">
                        <!-- Summer image -->
                        <img src="{{ url_for('static', filename='images/summer.png') }}" 
                             alt="קיץ" 
                             class="h-48 object-contain absolute -top-2 summer-pulse">
                        <!-- Pool image -->
                        <img src="{{ url_for('static', filename='images/pool.png') }}" 
                             alt="בריכה" 
                             class="h-28 object-contain absolute bottom-0 left-4">
                        <!-- Ball bouncing -->
                        <img src="{{ url_for('static', filename='images/ball.png') }}" 
                             alt="כדור" 
                             class="h-16 object-contain absolute bottom-2 right-4 ball-bounce">
                    </div>
                    <h3 class="text-2xl text-[#4C2B08] mb-3" style="font-family: 'Playfair Display', Georgia, serif; font-weight: 600;">מסיבת בריכה</h3>
                    <p class="text-sm text-[#84593D] leading-relaxed" style="font-family: 'Lato', sans-serif;">
                        שמש, מים, מוזיקה ואווירה של חופש.
                    </p>
                </a>

                <!-- Corporate Toast Card -->
                <a href="/plan?type=business" class="bg-white rounded-xl shadow-lg p-8 text-center hover:shadow-xl transition-shadow duration-300 block cursor-pointer">
                    <div class="h-56 mx-auto mb-6 flex items-center justify-center relative">
                        <!-- Left glass -->
                        <img src="{{ url_for('static', filename='images/Lcheers.png') }}" 
                             alt="כוסית שמאל" 
                             class="h-44 object-contain absolute left-12 cheers-left">
                        <!-- Right glass -->
                        <img src="{{ url_for('static', filename='images/Rcheers.png') }}" 
                             alt="כוסית ימין" 
                             class="h-44 object-contain absolute right-12 cheers-right">
                    </div>
                    <h3 class="text-2xl text-[#4C2B08] mb-3" style="font-family: 'Playfair Display', Georgia, serif; font-weight: 600;">הרמת כוסית</h3>
                    <p class="text-sm text-[#84593D] leading-relaxed" style="font-family: 'Lato', sans-serif;">
                        אירועים עסקיים בסטייל אחר.
                    </p>
                </a>
            </div>
        </div>
    </section>
    
    <!-- Weddings Section -->
    <section class="py-12 bg-white">
        <div class="container mx-auto px-4 md:px-8">
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center">
                <!-- Animation with couple and rings - Clickable -->
                <a href="/plan?type=wedding" class="order-2 md:order-1 flex justify-center items-center bg-gradient-to-br from-[#f4f1ea] to-[#e8e5dc] rounded-lg shadow-lg p-6 min-h-[380px] relative overflow-hidden cursor-pointer hover:shadow-2xl transition-shadow duration-300 block">
                    <!-- Main container for couple and rings -->
                    <div class="relative flex flex-col items-center justify-center">
                        <!-- Couple illustration -->
                        <div class="relative w-52 couple-slide">
                            <img src="{{ url_for('static', filename='images/bride-groom-illustration.png') }}" 
                                 alt="Bride and Groom" 
                                 class="w-full h-auto drop-shadow-xl bg-transparent" 
                                 style="mix-blend-mode: multiply; filter: drop-shadow(0 10px 20px rgba(0,0,0,0.1));">
                        </div>
                        
                        <!-- Animated rings -->
                        <div class="-mt-8 relative rings-float">
                            <img src="{{ url_for('static', filename='images/wedding-rings.png') }}" 
                                 alt="Wedding Rings" 
                                 class="w-64 h-auto opacity-95" 
                                 style="mix-blend-mode: multiply; filter: drop-shadow(0 8px 15px rgba(171, 119, 67, 0.3));">
                        </div>
                    </div>
                </a>
                <!-- Content -->
                <div class="order-1 md:order-2">
                    <h2 class="font-serif text-3xl md:text-4xl mb-4 leading-tight text-[var(--color-espresso)]">חתונות</h2>
                    <p class="font-sans text-sm mb-6 leading-relaxed text-[var(--color-coffee)]">
                        היום הגדול שלכם, בלי הלחץ מסביב. עם הלוקיישנים הכי יפים והספקים הכי טובים, נדאג שהחתונה שלכם תהיה פשוט וואו. אתם רק צריכים להגיד 'I DO'.
                    </p>
                    <a href="/inspirations#weddings-inspiration" class="border-2 border-[#4C2B08] text-[#4C2B08] bg-transparent px-8 py-3 text-xs font-black uppercase tracking-widest hover:bg-[#8c5f42] hover:text-white hover:border-[#8c5f42] transition-colors duration-300 rounded-full inline-block" style="font-weight: 900;">
                        בואו לקבל השראה
                    </a>
                </div>
            </div>
        </div>
    </section>

    <!-- Bar Mitzvah Section -->
    <section class="py-20 bg-[#f4f1ea]">
        <div class="container mx-auto px-4 md:px-8">
            <div class="grid grid-cols-1 md:grid-cols-2 gap-12 items-center">
                <!-- Content -->
                <div>
                    <p class="font-sans text-xs font-bold tracking-widest uppercase mb-4 text-[var(--color-espresso)]">בר/בת מצווה</p>
                    <h2 class="font-serif text-5xl mb-6 leading-tight text-[var(--color-espresso)]">יום חג מיוחד</h2>
                    <p class="font-sans text-lg mb-8 leading-relaxed text-[var(--color-coffee)]">
                        בר או בת מצווה - יום שמסמן מעבר משמעותי בחיי הנוער. אנחנו יוצרים אירוע שמחוגג את הגדילה ואת ההשתנות, 
                        עם חברים ומשפחה בעיצוב שמתאים בדיוק לאישיותו של המעורבב/ת.
                    </p>
                    <a href="/inspirations#barmitzvah-inspiration" class="border-2 border-[#4C2B08] text-[#4C2B08] bg-transparent px-8 py-3 text-sm font-black uppercase tracking-widest hover:bg-[#8c5f42] hover:text-white hover:border-[#8c5f42] transition-colors duration-300 rounded-full inline-block" style="font-weight: 900;">
                        גלה עוד על בר מצווה
                    </a>
                </div>
                <!-- Image -->
                <div>
                    <img id="bar-mitzvah-img" src="{{ url_for('static', filename='images/tfilin.png') }}" 
                         alt="Bar Mitzvah Celebration" 
                         class="w-full h-full object-cover rounded-lg shadow-lg">
                </div>
            </div>
        </div>
    </section>

    <!-- Corporate Events Section -->
    <section class="py-20 bg-white">
        <div class="container mx-auto px-4 md:px-8">
            <div class="grid grid-cols-1 md:grid-cols-2 gap-12 items-center">
                <!-- Image -->
                <div class="order-2 md:order-1">
                    <img id="corporate-img" src="https://images.unsplash.com/photo-1519671482749-fd09be7ccebf?q=80&w=2070&auto=format&fit=crop" 
                         alt="Corporate Event" 
                         class="w-full h-full object-cover rounded-lg shadow-lg">
                    <script>
                        if (hallImages.length > 1) {
                            document.getElementById('corporate-img').src = getImage('hall', 1);
                        }
                    </script>
                </div>
                <!-- Content -->
                <div class="order-1 md:order-2">
                    <p class="font-sans text-xs font-bold tracking-widest uppercase mb-4 text-[var(--color-espresso)]">אירועי חברה</p>
                    <h2 class="font-serif text-5xl mb-6 leading-tight text-[var(--color-espresso)]">הרמת כוסות לחיים</h2>
                    <p class="font-sans text-lg mb-8 leading-relaxed text-[var(--color-coffee)]">
                        כל חברה זקוקה ליום מיוחד שמחזק קשרים ויוצר זיכרונות. מאירועי השקה ועד חגיגות סיום, 
                        אנחנו מתכננים אירועים שמעוררים השראה, מצחיקים וממשיכים להיות שיחת היום.
                    </p>
                    <a href="/inspirations#corporate-inspiration" class="border-2 border-[#4C2B08] text-[#4C2B08] bg-transparent px-8 py-3 text-sm font-black uppercase tracking-widest hover:bg-[#8c5f42] hover:text-white hover:border-[#8c5f42] transition-colors duration-300 rounded-full inline-block" style="font-weight: 900;">
                        גלה עוד על אירועי חברה
                    </a>
                </div>
            </div>
        </div>
    </section>

    <!-- Vendor Categories (Curated List) -->
    <section class="py-24 bg-white" id="vendors">
        <div class="container px-4 md:px-8">
            <h2 class="font-serif text-3xl md:text-4xl text-center mb-4 text-[color:var(--color-black)]">הנבחרים שלנו</h2>
            <p class="text-center font-sans text-gray-400 text-sm tracking-widest uppercase mb-16">ספקים נבחרים לאירוע מושלם</p>

            <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                <!-- Category 1 -->
                <a href="/plan?type=venue" class="group block relative aspect-square overflow-hidden">
                    <img src="https://images.unsplash.com/photo-1519167758481-83f550bb49b3?q=80&w=2098&auto=format&fit=crop"
                         class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"
                         alt="Venues">
                    <div class="absolute inset-0 bg-[color:var(--color-black)]/20 group-hover:bg-[color:var(--color-black)]/30 transition-colors"></div>
                    <div class="absolute inset-0 flex items-center justify-center">
                        <h3 class="font-serif text-2xl text-white tracking-wider uppercase">Venues</h3>
                    </div>
                </a>

                <!-- Category 2 -->
                <a href="/plan?type=photo" class="group block relative aspect-square overflow-hidden">
                    <img id="photo-category" src="https://images.unsplash.com/photo-1537633552985-df8429e8048b?q=80&w=2070&auto=format&fit=crop"
                         class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"
                         alt="Photography">
                    <div class="absolute inset-0 bg-[color:var(--color-black)]/20 group-hover:bg-[color:var(--color-black)]/30 transition-colors"></div>
                    <div class="absolute inset-0 flex items-center justify-center">
                        <h3 class="font-serif text-2xl text-white tracking-wider uppercase">Photo</h3>
                    </div>
                    <script>if (photographerImages.length > 0) document.getElementById('photo-category').src = photographerImages[0];</script>
                </a>

                <!-- Category 3 -->
                <a href="/plan?type=catering" class="group block relative aspect-square overflow-hidden">
                    <img id="food-category" src="https://images.unsplash.com/photo-1555244162-803834f70033?q=80&w=2070&auto=format&fit=crop"
                         class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"
                         alt="Food">
                    <div class="absolute inset-0 bg-[color:var(--color-black)]/20 group-hover:bg-[color:var(--color-black)]/30 transition-colors"></div>
                    <div class="absolute inset-0 flex items-center justify-center">
                        <h3 class="font-serif text-2xl text-white tracking-wider uppercase">Food</h3>
                    </div>
                    <script>if (foodImages.length > 0) document.getElementById('food-category').src = foodImages[0];</script>
                </a>

                <!-- Category 4 -->
                <a href="/plan?type=music" class="group block relative aspect-square overflow-hidden">
                    <img id="music-category" src="https://images.unsplash.com/photo-1516450360452-9312f5e86fc7?q=80&w=2070&auto=format&fit=crop"
                         class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"
                         alt="Music">
                    <div class="absolute inset-0 bg-[color:var(--color-black)]/20 group-hover:bg-[color:var(--color-black)]/30 transition-colors"></div>
                    <div class="absolute inset-0 flex items-center justify-center">
                        <h3 class="font-serif text-2xl text-white tracking-wider uppercase">Music</h3>
                    </div>
                    <script>if (djImages.length > 0) document.getElementById('music-category').src = djImages[0];</script>
                </a>
            </div>
        </div>
    </section>
</main>
{% endblock %}
