{% extends "base.html" %}

{% block content %}
<div class="container" style="padding-top: 4rem; padding-bottom: 4rem;">
    <!-- HERO SECTION -->
    <div class="text-center mb-16 fade-in-up">
        <h1 class="section-title text-5xl font-bold text-[#800020] mb-3">ğŸ‰ ×”×ª×•×¦××•×ª ×©×œ×š ××•×›× ×•×ª!</h1>
        <p class="section-subtitle text-xl text-gray-600 mb-2">{{ venues|length }} ××•×œ××•×ª + {{ suppliers|length }} ×¡×¤×§×™× ×©×—×•×©×‘×™× ×©××•×©×œ××™× ×‘×©×‘×™×œ×›×</p>
    </div>

    <!-- FILTERS SUMMARY - Clean icon-based -->
    <div class="results-summary bg-gradient-to-r from-[#800020]/5 to-[#400010]/5 p-8 rounded-2xl mb-14 fade-in-up delay-100 border border-[#800020]/10">
        <div class="grid grid-cols-2 md:grid-cols-4 gap-6 text-gray-700">
            <div class="text-center">
                <p class="text-2xl mb-2">ğŸ’</p>
                <p class="text-xs font-semibold text-gray-600 block mb-1">××™×¨×•×¢</p>
                <span class="text-base font-medium">{{ request.args.get('event_type', '×”×›×œ') }}</span>
            </div>
            <div class="text-center">
                <p class="text-2xl mb-2">ğŸ“</p>
                <p class="text-xs font-semibold text-gray-600 block mb-1">××–×•×¨</p>
                <span class="text-base font-medium">{{ request.args.get('region', '×”×›×œ') }}</span>
            </div>
            <div class="text-center">
                <p class="text-2xl mb-2">ğŸ’°</p>
                <p class="text-xs font-semibold text-gray-600 block mb-1">×ª×§×¦×™×‘</p>
                <span class="text-base font-medium">{{ request.args.get('budget', '×”×›×œ') }}</span>
            </div>
            <div class="text-center">
                <p class="text-2xl mb-2">ğŸ‘¥</p>
                <p class="text-xs font-semibold text-gray-600 block mb-1">××•×¨×—×™×</p>
                <span class="text-base font-medium">{{ request.args.get('guests', '×”×›×œ') }}</span>
            </div>
        </div>
    </div>

    <!-- VENUES SECTION -->
    {% if venues %}
    <div class="mb-20">
        <h2 class="text-3xl font-bold text-[#800020] mb-10">ğŸ›ï¸ ××•×œ××•×ª ×œ××™×¨×•×¢</h2>
        
        <div class="results-grid grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 fade-in-up delay-200">
            {% for venue in venues %}
            <div class="venue-card bg-white rounded-2xl overflow-hidden shadow-md hover:shadow-2xl transition-all duration-300 group border border-gray-100">
                <!-- Card Image/Header -->
                <div class="relative h-48 bg-gradient-to-br from-[#800020] to-[#600018] flex items-center justify-center overflow-hidden">
                    <div class="absolute inset-0 bg-black/5 group-hover:bg-black/10 transition-all"></div>
                    <div class="text-5xl">ğŸ›ï¸</div>
                </div>
                
                <!-- Card Content -->
                <div class="p-6">
                    <!-- Title + Location Badge -->
                    <div class="flex justify-between items-start gap-3 mb-4">
                        <h3 class="text-xl font-bold text-gray-900 flex-1">{{ venue.name }}</h3>
                        <span class="text-xs font-semibold bg-gray-100 text-gray-700 px-3 py-1 rounded-full whitespace-nowrap">ğŸ“ {{ venue.city }}</span>
                    </div>

                    <!-- Stats Row: Capacity + Price -->
                    <div class="flex gap-6 mb-4 pb-4 border-b border-gray-100">
                        {% if venue.capacity %}
                        <div class="flex items-center gap-2">
                            <span class="text-2xl">ğŸ‘¥</span>
                            <div>
                                <p class="text-xs text-gray-500">×§×™×‘×•×œ×ª</p>
                                <p class="font-semibold text-gray-900">×¢×“ {{ venue.capacity }}</p>
                            </div>
                        </div>
                        {% endif %}
                        
                        {% if venue.price %}
                        <div class="flex items-center gap-2">
                            <span class="text-2xl">ğŸ’°</span>
                            <div>
                                <p class="text-xs text-gray-500">××—×™×¨</p>
                                <p class="font-bold text-[#800020] text-lg">{{ venue.price }}â‚ª</p>
                            </div>
                        </div>
                        {% endif %}
                    </div>

                    <!-- Style Badge -->
                    {% if venue.style %}
                    <div class="mb-4 pb-4 border-b border-gray-100">
                        <p class="text-xs text-gray-500 mb-2">×¡×’× ×•×Ÿ:</p>
                        <span class="inline-block bg-[#800020]/10 text-[#800020] text-sm font-semibold px-3 py-1 rounded-full">
                            {% if venue.style == 'Luxury' %}ğŸ’ ×”×¤×§×¡×”
                            {% elif venue.style == 'Boho' %}âœ¨ ×‘×•×”×•
                            {% else %}ğŸ›ï¸ {{ venue.style }}{% endif %}
                        </span>
                    </div>
                    {% endif %}

                    <!-- CTA Buttons -->
                    <div class="flex gap-2">
                        <a href="tel:{{ venue.phone }}" class="flex-1 bg-[#800020] hover:bg-[#600018] text-white font-semibold py-2 px-3 rounded-lg transition text-center text-sm">
                            â˜ï¸ ×”×ª×§×©×¨
                        </a>
                        <button class="flex-none bg-gray-100 hover:bg-red-100 text-gray-700 hover:text-red-600 font-semibold py-2 px-4 rounded-lg transition text-lg">
                            â¤ï¸
                        </button>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
    {% else %}
    <div class="bg-blue-50 border border-blue-200 rounded-2xl p-10 text-center mb-16">
        <p class="text-blue-800 text-lg mb-2">ğŸ¤” ×œ× ××¦×× ×• ××•×œ××•×ª</p>
        <p class="text-blue-600 text-sm">× ×¡×” ×œ×©× ×•×ª ××ª ×”×§×¨×™×˜×¨×™×•× ×™× ×©×œ×š ×•×—×¤×© ×©×•×‘</p>
    </div>
    {% endif %}

    <!-- SUPPLIERS SECTION -->
    {% if suppliers %}
    <div class="mb-16">
        <h2 class="text-3xl font-bold text-[#800020] mb-10">âœ¨ ×¦×•×•×ª ××•××œ×¥</h2>

        <div class="results-grid grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 fade-in-up delay-300">
            {% for supplier in suppliers %}
            <div class="supplier-card bg-white rounded-2xl overflow-hidden shadow-md hover:shadow-2xl transition-all duration-300 group border border-gray-100">
                <!-- Card Header with Type Icon -->
                <div class="relative h-48 bg-gradient-to-br from-[#800020] to-[#600018] flex items-center justify-center overflow-hidden">
                    <div class="absolute inset-0 bg-black/5 group-hover:bg-black/10 transition-all"></div>
                    <div class="text-5xl">
                        {% if supplier.supplier_type == 'DJ' %}ğŸ§
                        {% elif supplier.supplier_type == 'Catering' %}ğŸ½ï¸
                        {% elif supplier.supplier_type == 'Photographer' %}ğŸ“·
                        {% elif supplier.supplier_type == 'Designer' %}ğŸ¨
                        {% elif supplier.supplier_type == 'Florist' %}ğŸŒ¸
                        {% elif supplier.supplier_type == 'Music Band' %}ğŸµ
                        {% else %}âœ¨{% endif %}
                    </div>
                </div>

                <!-- Card Content -->
                <div class="p-6">
                    <!-- Title + Location Badge -->
                    <div class="flex justify-between items-start gap-3 mb-4">
                        <h3 class="text-lg font-bold text-gray-900 flex-1">{{ supplier.name }}</h3>
                        <span class="text-xs font-semibold bg-gray-100 text-gray-700 px-3 py-1 rounded-full whitespace-nowrap">ğŸ“ {{ supplier.city }}</span>
                    </div>

                    <!-- Type Badge -->
                    <div class="mb-4">
                        <span class="inline-block bg-[#800020]/10 text-[#800020] text-xs font-semibold px-3 py-1.5 rounded-full">
                            {% if supplier.supplier_type == 'DJ' %}ğŸ§ DJ
                            {% elif supplier.supplier_type == 'Catering' %}ğŸ½ï¸ ×§×™×™×˜×¨×™× ×’
                            {% elif supplier.supplier_type == 'Photographer' %}ğŸ“· ×¦×™×œ×•×
                            {% elif supplier.supplier_type == 'Designer' %}ğŸ¨ ×¢×™×¦×•×‘ ××™×¨×•×¢
                            {% elif supplier.supplier_type == 'Florist' %}ğŸŒ¸ ×¤×¨×—×™×
                            {% elif supplier.supplier_type == 'Music Band' %}ğŸµ ×œ×”×§×”
                            {% else %}{{ supplier.supplier_type }}{% endif %}
                        </span>
                    </div>

                    <!-- Cuisine Type (for Catering) -->
                    {% if supplier.cuisine_type %}
                    <div class="mb-4 pb-4 border-b border-gray-100">
                        <p class="text-xs text-gray-500 mb-2">×¡×•×’ ×§×•×œ×™× ×¨×™:</p>
                        <div class="flex flex-wrap gap-2">
                            <span class="inline-block bg-gray-100 text-gray-800 text-xs font-semibold px-2.5 py-1 rounded-full">
                                {% if '×‘×©×¨' in supplier.cuisine_type or 'meat' in supplier.cuisine_type.lower() %}ğŸ¥© ×‘×©×¨×™
                                {% elif '×—×œ×‘×™' in supplier.cuisine_type or 'dairy' in supplier.cuisine_type.lower() %}ğŸ¥› ×—×œ×‘×™
                                {% elif '×˜×‘×¢×•× ×™' in supplier.cuisine_type or 'vegan' in supplier.cuisine_type.lower() %}ğŸ¥— ×˜×‘×¢×•× ×™
                                {% elif '×©×£' in supplier.cuisine_type %}ğŸ‘¨â€ğŸ³ {{ supplier.cuisine_type }}
                                {% else %}ğŸ´ {{ supplier.cuisine_type }}{% endif %}
                            </span>
                        </div>
                    </div>
                    {% endif %}

                    <!-- Price -->
                    <div class="mb-4 pb-4 border-b border-gray-100">
                        {% if supplier.price %}
                        <div class="flex items-center gap-2">
                            <span class="text-2xl">ğŸ’°</span>
                            <div>
                                <p class="text-xs text-gray-500">×ª×—×™×œ ×-</p>
                                <p class="font-bold text-[#800020] text-lg">{{ supplier.price }}â‚ª</p>
                            </div>
                        </div>
                        {% endif %}
                    </div>

                    <!-- CTA Buttons -->
                    <div class="flex gap-2">
                        <a href="tel:{{ supplier.phone }}" class="flex-1 bg-[#800020] hover:bg-[#600018] text-white font-semibold py-2 px-3 rounded-lg transition text-center text-sm">
                            â˜ï¸ ×”×ª×§×©×¨
                        </a>
                        <button class="flex-none bg-gray-100 hover:bg-red-100 text-gray-700 hover:text-red-600 font-semibold py-2 px-4 rounded-lg transition text-lg">
                            â¤ï¸
                        </button>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
    {% else %}
    <div class="bg-blue-50 border border-blue-200 rounded-2xl p-10 text-center mb-16">
        <p class="text-blue-800 text-lg mb-2">ğŸ¤” ×œ× ××¦×× ×• ×¡×¤×§×™×</p>
        <p class="text-blue-600 text-sm">× ×¡×” ×œ×©× ×•×ª ××ª ×”×§×¨×™×˜×¨×™×•× ×™× ×©×œ×š ×•×—×¤×© ×©×•×‘</p>
    </div>
    {% endif %}

</div>
{% endblock %}